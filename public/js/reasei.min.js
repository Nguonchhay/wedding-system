(function(){var a,b,c,d,e;jQuery.fn.onlyDigit=function(){return this.each(function(){return $(this).on("keypress",function(a){var b;return b=String.fromCharCode(a.which),/^[\d\.]$/.test(b)})})},jQuery.fn.onlyNumber=function(){return this.each(function(){return jQuery(this).on("keypress",function(a){var b;return b=String.fromCharCode(a.which),/^[\d\s]+$/.test(b)})})},$(".date-picker").datepicker({format:"yyyy-mm-dd"}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".only-digit").onlyDigit(),$(".only-number").onlyNumber(),$(".selectpicker").select2(),$(".list-data").DataTable(),d=function(a){var b,c;b=$(a).nextAll("."+$(a).data("image-preview")),a.files&&a.files[0]?(c=new FileReader,c.onload=function(a){b.attr("src",a.target.result),b.removeClass("hide")},c.readAsDataURL(a.files[0])):b.addClass("hide")},$(".image-preview-option").on("change",function(){d(this)}),c=function(a){return a>=48&&a<=57},b=function(a){return a>=6112&&a<=6121},a=function(a){var b;return b=function(){switch(!1){case"០"!==a:return 0;case"១"!==a:return 1;case"២"!==a:return 2;case"៣"!==a:return 3;case"៤"!==a:return 4;case"៥"!==a:return 5;case"៦"!==a:return 6;case"៧"!==a:return 7;case"៨"!==a:return 8;case"៩"!==a:return 9;default:return""}}()},$(".btn-delete-image").on("click",function(){var a,b,c;b=$(this),c=b.nextAll(".store-delete"),a=b.parent(".existImage").nextAll(".image-preview-option"),parseInt(c.val())?(c.val("0"),a.addClass("hide"),a.val(""),b.children("i.fa").addClass("fa-times"),b.children("i.fa").removeClass("fa-recycle"),b.nextAll(".image-preview").removeClass("hide"),$(".new-image-preview").addClass("hide"),$(".new-image-preview").attr("src","#")):(c.val("1"),a.removeClass("hide"),b.children("i.fa").removeClass("fa-times"),b.children("i.fa").addClass("fa-recycle"),b.nextAll(".image-preview").addClass("hide"))}),$("#formUserCreate").on("submit",function(a){var b,c;return c=$("#userPassword").val(),b=$("#userConfirmPassword").val(),c.length<8||b<8?(alert("You have to input at least 8 characters."),a.preventDefault(),!1):c!==b?(alert("Password and confirm password must be the same"),a.preventDefault(),!1):void 0}),$("#formUserEdit").on("submit",function(a){var b,c;if(c=$("#userPassword").val(),b=$("#userConfirmPassword").val(),""!==c||""!==b){if(c.length<8||b<8)return alert("You have to input at least 8 characters."),a.preventDefault(),!1;if(c!==b)return alert("Password and confirm password must be the same"),a.preventDefault(),!1}}),$("#formUploadGuest").on("submit",function(){return $(this).find(":submit").prop("disabled",!0)}),$(".checkbox-all-guest").on("click",function(){var a;return a=$(".checkbox-guest"),$(this).is(":checked")?a.prop("checked",!0):a.prop("checked",!1)}),$("#formInviteGuest").on("submit",function(a){if(0===$(".checkbox-guest:checked").length)return alert("Please select at least one guest."),a.preventDefault(),!1}),$("#isInviteImportingGuest").on("click",function(){var a;return a=$(".wedding-for-guest"),$(this).is(":checked")?a.removeClass("hide"):a.addClass("hide")}),$(document).find("input.gif-recording").keypress(function(d){var e,f;return f=$(this),e=String.fromCharCode(d.keyCode),c(d.keyCode)?f.val(f.val()+e):b(d.keyCode)?f.val(f.val()+a(e)):f.val(f.val()+""),d.preventDefault()}),$("#btnWeddingRecordAjax").on("click",function(){var a,b,c,d,e,f,g,h;return e=$(this),g=$("#weddingInvitation option:selected"),b=parseFloat("0"+$("#gift_dollar").val()),c=parseInt("0"+$("#gift_khmer").val()),d=$("#gift_other").val().trim(),h=g.val(),""===h||0===b&&0===c&&""===d?alert("Please, input the information."):(f=$(this).data("action"),a={weddingInvitation:h,dollar:b,khmer:c,other:d},e.attr("disabled",!0),$.ajax({url:f,data:a,type:"POST",datatype:"JSON",success:function(a){var f;return 200!==a.status?alert("Something went wrong while trying to save gift from guest. Reload the page and try again."):($("#weddingInvitation option:selected").remove(),$("#gift_dollar").val(""),$("#gift_khmer").val(""),$("#gift_other").val(""),f='<tr id="'+h+'">',f+='<td id="editGiftWedding'+h+'">'+g.html()+"</td>",f+='<td id="editGiftDollar'+h+'">'+b+"</td>",f+='<td id="editGiftKhmer'+h+'">'+c+"</td>",f+='<td id="editGiftOther'+h+'">'+d+"</td>",f+='<td><button type="button" class="btn btn-default edit-recorded-gift" id="'+h+'" class="guest-edit-button btn btn-sm btn-default"><span class="glyphicon glyphicon-pencil"></span></button></td>',f+="</tr>",$("#recentRecordedGift tbody tr:first").before(f),e.removeAttr("disabled"),$("#recentRecordedGift tbody tr").length>5?$("#recentRecordedGift tbody tr:last").remove():void 0)}}))}),$(".btnEditGiftClose").on("click",function(){return $("#edit_wedding_invitation").val(""),$("#edit_gift_dollar").val(""),$("#edit_gift_khmer").val(""),$("#edit_gift_other").val(""),$("#modalEditGift").modal("hide")}),$("#recentRecordedGift").on("click",".edit-recorded-gift",function(){var a,b;return b=$(this),a=b.attr("id"),$("#editGuest").html($("#editGiftWedding"+a).html()),$("#edit_wedding_invitation").val(a),$("#edit_gift_dollar").val($("#editGiftDollar"+a).html()),$("#edit_gift_khmer").val($("#editGiftKhmer"+a).html()),$("#edit_gift_other").val($("#editGiftOther"+a).html()),$("#modalEditGift").modal("show")}),$("#btnEditGift").on("click",function(){var a,b,c,d,e,f;return f=$("#edit_wedding_invitation").val(),b=parseFloat("0"+$("#edit_gift_dollar").val()),c=parseInt("0"+$("#edit_gift_khmer").val()),d=$("#edit_gift_other").val(),0===b&&0===c&&""===d?alert("Please, input the information. If you do not want to keep the same value, just close this form."):(e=$(this).data("action"),a={weddingInvitation:f,dollar:b,khmer:c,other:d},$.ajax({url:e,data:a,type:"POST",datatype:"JSON",success:function(a){return 200===a.status?($("#editGiftDollar"+f).html($("#edit_gift_dollar").val()),$("#editGiftKhmer"+f).html($("#edit_gift_khmer").val()),$("#editGiftOther"+f).html($("#edit_gift_other").val()),$(".btnEditGiftClose").click()):alert("Something went wrong while trying to update gift from guest.")}}))}),e=function(a,b,c){var d,e,f;return d=0,e=0,$("#weddingBook").length&&(f=$("#weddingBook").DataTable(),""===c?(f.column(a).data().each(function(a){return d+=parseFloat(a)}),f.column(b).data().each(function(a){return e+=parseInt(a)})):(f.column(a,{search:"applied"}).data().each(function(a){return d+=parseFloat(a)}),f.column(b,{search:"applied"}).data().each(function(a){return e+=parseInt(a)}))),$("#totalDollar").html(d),$("#totalKhmer").html(e)},e(4,5,""),$('#weddingBook_filter input[type="search"]').on("keyup",function(a){var b;return b=$(this).val()+"",e(4,5,b)})}).call(this);